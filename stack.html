<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>数据结构-栈</title>
</head>
<body>
<script type="text/javascript">

    /**
      栈就是和列表类似的一种数据结构，它可用来解决计算机世界里的很多问题。栈是一种高
     效的数据结构，因为数据只能在栈顶添加或删除，所以这样的操作很快，而且容易实现。
     栈的使用遍布程序语言实现的方方面面，从表达式求值到处理函数调用。
      @constructor
     */
    function Stack() {
        this.dataStore = [];
        this.top = 0;
        this.push = push;
        this.pop = pop;
        this.peek = peek;
        this.clear = clear;
        this.length = length;
    }

    //压栈
    function push(element) {
        this.dataStore[this.top++] = element;
    }

    //入栈
    function pop() {
        return this.dataStore[--this.top];
    }

    //浏览栈顶元素
    function peek() {
        return this.dataStore[this.top - 1];
    }

    //清空栈
    function clear() {
        this.top = 0;
    }

    //栈元素个数
    function length() {
        return this.top;
    }

    var stack = new Stack();

    stack.push("A");
    stack.push("B");
    stack.push("C");
    stack.push("D");
    stack.push("E");
    var ele1 = stack.pop();

    //简单使用示例
    document.write(stack.length());
    document.write(ele1);
    document.write(stack.peek());
    stack.clear();
    document.write(stack.peek());
    var str1 = 'abcdef中国';
    document.write(str1.split("").reverse().join(""));

    //应用1:判断一个字符串是否是回文(一个单词，短文或数字，从前往后写，还是从后往前写都是一样的)

    function isPalindrome(word) {
        var s = new Stack();
        for (var i = 0; i < word.length; i++) {
            s.push(word[i]);
        }
        var rword = "";
        while (s.length() > 0) {
            rword += s.pop();
        }

        if (rword == word) {
            return true;
        }
        return false;
    }


    document.write(isPalindrome('1wow1'));

    //模拟递归
    // 如：5! 5*3*2*1
    //一般递归如下
    function factorial(n) {
        if (n === 0) {
            return 1;
        }

        return n * factorial(n - 1);
    }

    document.write(factorial(9));


    //栈模拟递归
    function fact(n) {
        var s = new Stack();
        while (n > 0) {
            s.push(n--);
        }

        var product = 1;
        while (s.length() > 0) {

            product *= s.pop();
        }

        return product;
    }

    document.write(fact(9));

</script>
</body>
</html>