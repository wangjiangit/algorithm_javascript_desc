<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>双向链表</title>
</head>
<body>
<script type="text/javascript">
    /**
     * 尽管从链表的头节点遍历到尾节点很简单，但反过来，从后向前遍历则没那么简单。通过
     给Node 对象增加一个属性，该属性存储指向前驱节点的链接，这样就容易多了。此时向链
     表插入一个节点需要更多的工作，我们需要指出该节点正确的前驱和后继。但是在从链表
     中删除节点时，效率提高了，不需要再查找待删除节点的前驱节点了
     */

    function Node(element){
        this.element=element;
        this.next=null;
        this.previous=null;
    }

    function LList(){
        this.head=new Node('head');
        this.find=find;
        this.insert=insert;
        this.display=display;
        this.remove=remove;
        this.findLast=findLast;
        this.disReverse=disReverse;
    }

    function insert(newElement,item){
        var newNode=new Node(newElement);
        var current=this.find(item);
        newNode.next=current.next;
        newNode.previous=current;
        current.next=newNode;
    }

    function find(item){
        var currNode=this.head;
        while(currNode.element!=item){
            currNode=currNode.next;
        }
        return currNode;
    }

    function remove(item){
        var currNode=this.find(item);
        if(!(currNode.next==null)){
            currNode.previous.next=currNode.next;
            currNode.next.previous=currNode.previous;
            currNode.next=null;
            currNode.previous=null;
        }
    }

    function findLast()
    {
        var currNode=this.head;
        while(!(currNode.next ==null)){
            currNode=currNode.next;
        }
        return  currNode;
    }

    //按顺序展示链表所有元素
    function display(){
        var currNode=this.head;
        while(!(currNode.next==null)){
            document.write(currNode.next.element+"<br/>");
            currNode=currNode.next;
        }
    }

    //按反序展示链表所有元素
    function disReverse()
    {
        var currNode=this.head;
        currNode=this.findLast();
        while(!(currNode.previous==null)){
            document.write(currNode.element+"<br/>");
            currNode=currNode.previous;
        }
    }


    // 主程序
    var cities = new LList();
    cities.insert("Conway", "head");
    cities.insert("Russellville", "Conway");
    cities.insert("Alma", "Russellville");
    cities.insert("Bill", "Alma");
    //cities.display();
    //cities.remove("Russellville");
    cities.disReverse();

















</script>

</body>
</html>